# Example bot configuration
# Copy this to dev-bot.yaml and fill in your values
#
# IMPORTANT: After configuring, you must register the bot's slash commands:
#   Local development:
#     make bot-register GUILD=your-guild-id    # Registers commands to a specific guild (instant)
#   
#   Production:
#     ./hivemind-bot register --config /config/bot.yaml    # Registers commands globally (takes ~1 hour)
#   
#   In Docker:
#     docker exec <container-name> ./hivemind-bot register --config /config/bot.yaml
#   
#   In Kubernetes (using args to preserve ENTRYPOINT):
#     kubectl exec deployment/hivemind-bot -- ./hivemind-bot register --config /config/bot.yaml
#     
#     For the main container, use args in your pod spec:
#       args:
#         - run
#         - --config
#         - /etc/hivemind/config.yaml
#
# NOTE: The --config flag must come AFTER the subcommand (register or run), not before.
# Guild-specific registration is recommended for development (instant updates).
# Global registration is recommended for production (available in all servers).

bot:
  # Get your bot token from https://discord.com/developers/applications
  token: "YOUR_BOT_TOKEN_HERE"
  # Your Discord application ID (found on the same page)
  application_id: "YOUR_APPLICATION_ID_HERE"

backend:
  grpc_host: "localhost"
  grpc_port: 9091
  tls_enabled: false
  
  # Service account token for bot authentication (REQUIRED)
  # The bot will not start without this token configured.
  # 
  # For local dev: use the service token from dev-server.yaml (services.bot.token)
  # For production: generate a token using:
  #   ./bin/hivemind-server token create-service --name "discord-bot" --role bot --config configs/prod-server.yaml
  # The command will output a JWT token that you should set here.
  # See example_server.yaml for details.
  service_token: ""
  
  # Base URL for the web interface (used in bot response links)
  web_base_url: "http://localhost:8080"
  
  # Metrics server port (for Prometheus scraping)
  metrics_port: 9091

logging:
  level: "info"      # debug, info, warn, error
  format: "json"     # json or text

# Metrics and health endpoints
# The bot automatically serves metrics on port 9100
# Available endpoints:
#   /metrics - Prometheus metrics
#   /health  - Health check
  output: "stdout"   # stdout or file path

features:
  enable_quotes: true
  enable_wiki: true
  enable_notes: true
  max_note_size: 10000    # Max characters for notes
  max_wiki_size: 50000    # Max characters for wiki pages
