{{define "quotes"}}
{{template "base" .}}
{{end}}

{{define "title"}}Quotes - Hivemind{{end}}

{{define "content"}}
<div class="max-w-6xl mx-auto">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-cyan-400 mb-2">Guild Quotes</h1>
    <p class="text-gray-400">Memorable quotes from your Discord guilds</p>
  </div>

  <!-- Quotes List -->
  {{if .Quotes}}
  <div class="space-y-4">
    {{range .Quotes}}
    <a href="/quote?id={{.Id}}" class="block border-2 border-hive-metal rounded-lg p-6 bg-hive-surface hover:border-cyan-500 transition-colors">
      <div class="flex items-start gap-4">
        <!-- Quote Mark -->
        <div class="text-6xl text-cyan-400/20 leading-none">"</div>
        
        <div class="flex-1">
          <!-- Quote Text -->
          <div class="text-lg text-gray-200 mb-3 italic">
            {{.Body}}
          </div>
          
          <!-- Metadata -->
          <div class="flex flex-wrap items-center gap-3 text-sm text-gray-400">
            {{if or .SourceMsgAuthorGuildNick .SourceMsgAuthorUsername}}
            <span class="text-cyan-400 font-medium">â€” {{if .SourceMsgAuthorGuildNick}}{{.SourceMsgAuthorGuildNick}}{{else}}{{.SourceMsgAuthorUsername}}{{end}}</span>
            {{end}}
            
            <span>â€¢</span>
            <span>{{formatDate .SourceMsgTimestamp}}</span>
            
            {{if .GuildName}}
            <span>â€¢</span>
            <span class="text-purple-400">{{.GuildName}}</span>
            {{end}}
            
            {{if or .AuthorGuildNick .AuthorUsername}}
            <span>â€¢</span>
            <span class="text-gray-500">added by {{if .AuthorGuildNick}}{{.AuthorGuildNick}}{{else}}{{.AuthorUsername}}{{end}}</span>
            {{end}}
          </div>

          <!-- Tags -->
          {{if .Tags}}
          <div class="flex flex-wrap gap-2 mt-3">
            {{range .Tags}}
            <span class="px-2 py-1 bg-purple-900/30 text-purple-400 text-xs rounded">#{{.}}</span>
            {{end}}
          </div>
          {{end}}
        </div>
      </div>
    </a>
    {{end}}
  </div>

  <!-- Show total count -->
  <div class="mt-6 text-center text-gray-400 text-sm">
    Showing {{len .Quotes}} of {{.Total}} total quotes
  </div>

  {{else}}
  <!-- Empty state -->
  <div class="text-center py-12">
    <div class="text-6xl mb-4">ðŸ’¬</div>
    <h2 class="text-xl font-semibold text-gray-400 mb-2">No quotes yet</h2>
    <p class="text-gray-500">Quotes from your Discord guilds will appear here.</p>
  </div>
  {{end}}
</div>
{{end}}
