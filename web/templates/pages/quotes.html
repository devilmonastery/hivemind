{{define "quotes"}}
{{template "base" .}}
{{end}}

{{define "title"}}Quotes - Hivemind{{end}}

{{define "content"}}
<div class="max-w-6xl mx-auto">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-cyan-400 mb-2">Guild Quotes</h1>
    <p class="text-gray-400">Memorable quotes from your Discord guilds</p>
  </div>

  <!-- Quotes List -->
  {{if .Quotes}}
  <div class="space-y-4">
    {{range .Quotes}}
    <div class="border-2 border-hive-metal rounded-lg p-6 bg-hive-surface hover:border-cyan-500 transition-colors">
      <div class="flex items-start gap-4">
        <!-- Quote Mark -->
        <div class="text-6xl text-cyan-400/20 leading-none">"</div>
        
        <div class="flex-1">
          <!-- Quote Text -->
          <div class="text-lg text-gray-200 mb-3 italic">
            {{.Body}}
          </div>
          
          <!-- Metadata -->
          <div class="flex flex-wrap items-center gap-3 text-sm text-gray-400">
            {{if .SourceMsgAuthorUsername}}
            <span class="text-cyan-400 font-medium">â€” {{.SourceMsgAuthorUsername}}</span>
            {{end}}
            
            <span>â€¢</span>
            <span>{{formatDate .CreatedAt}}</span>
            
            {{if .GuildName}}
            <span>â€¢</span>
            <span class="text-purple-400">{{.GuildName}}</span>
            {{end}}
            
            {{if .AuthorUsername}}
            <span>â€¢</span>
            <span class="text-gray-500">added by {{.AuthorUsername}}</span>
            {{end}}
            
            {{if and .SourceMsgId .SourceChannelId .GuildId}}
            <span>â€¢</span>
            <a href="https://discord.com/channels/{{.GuildId}}/{{.SourceChannelId}}/{{.SourceMsgId}}" 
               target="_blank" 
               rel="noopener noreferrer"
               class="text-neon-cyan hover:text-neon-magenta transition-colors flex items-center gap-1">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
              </svg>
              original message
            </a>
            {{end}}
          </div>

          <!-- Tags -->
          {{if .Tags}}
          <div class="flex flex-wrap gap-2 mt-3">
            {{range .Tags}}
            <span class="px-2 py-1 bg-purple-900/30 text-purple-400 text-xs rounded">#{{.}}</span>
            {{end}}
          </div>
          {{end}}
        </div>
      </div>
    </div>
    {{end}}
  </div>

  <!-- Show total count -->
  <div class="mt-6 text-center text-gray-400 text-sm">
    Showing {{len .Quotes}} of {{.Total}} total quotes
  </div>

  {{else}}
  <!-- Empty state -->
  <div class="text-center py-12">
    <div class="text-6xl mb-4">ðŸ’¬</div>
    <h2 class="text-xl font-semibold text-gray-400 mb-2">No quotes yet</h2>
    <p class="text-gray-500">Quotes from your Discord guilds will appear here.</p>
  </div>
  {{end}}
</div>
{{end}}
